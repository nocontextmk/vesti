<!doctype html><html lang="en"><head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Business News Aggregator</title>

<style>
@font-face{
 font-family:'DejaVu Sans Mono';
 src:url('https://cdn.jsdelivr.net/gh/strugee/dejavu-fonts-ttf/ttf/DejaVuSansMono.ttf') format('truetype');
}

:root{
 --bg-dark:#0b0b0c;
 --panel-dark:#0f1113;
 --text-dark:#e6eef3;

 --bg-light:#ffffff;
 --panel-light:#f7f7f7;
 --text-light:#0b0b0c;

 --radius:8px;
 --max:980px;
}

html,body{
 margin:0;
 font-family:'DejaVu Sans Mono',monospace;
 background:var(--bg-dark);
 color:var(--text-dark);
}

body[data-theme="light"]{
 background:var(--bg-light);
 color:var(--text-light);
}

/* ---------------- HEADER ---------------- */
.header{
 position:sticky;top:0;z-index:20;
 background:inherit;
 display:flex;
 justify-content:space-between;
 align-items:center;
 padding:10px 0 12px;
}

.cats{
 display:flex;
 gap:6px;
 overflow-x:auto;
 padding-bottom:4px;
}

.cat{
 padding:4px 10px;
 border-radius:999px;
 cursor:pointer;
 font-weight:600;
 font-size:0.70rem;
 white-space:nowrap;
 background:none;
 opacity:0.85;
}

/* DARK MODE categories */
body[data-theme="dark"] .cat{
 color:#ffffff;
 border:1px solid rgba(255,255,255,0.35);
}
/* LIGHT MODE categories */
body[data-theme="light"] .cat{
 color:#000000;
 border:1px solid rgba(0,0,0,0.35);
}

/* ACTIVE CATEGORY */
/* DARK MODE → black pill */
body[data-theme="dark"] .cat.active{
 background:#000000;
 color:#ffffff;
 border-color:#000000;
 opacity:1;
}
/* LIGHT MODE → white pill */
body[data-theme="light"] .cat.active{
 background:#ffffff;
 color:#000000;
 border-color:#ffffff;
 opacity:1;
}

.cat:hover{opacity:1;}

/* THEME BUTTON */
.themeBtn{
 width:24px;height:24px;
 border-radius:50%;
 background:none;
 cursor:pointer;
 display:flex;
 align-items:center;
 justify-content:center;
}

/* Dark mode = white outline */
body[data-theme="dark"] .themeBtn{
 border:2px solid #ffffff;
 color:#ffffff;
}

/* Light mode = black outline */
body[data-theme="light"] .themeBtn{
 border:2px solid #000000;
 color:#000000;
}

/* ---------------- LIST ---------------- */
.list{
 display:grid;
 gap:12px;
 margin-top:10px;
}

.item{
 background:rgba(255,255,255,0.04);
 border-radius:8px;
 padding:14px;
}
body[data-theme="light"] .item{
 background:#ffffff;
 border:1px solid rgba(0,0,0,0.08);
}

/* LINKS */
body[data-theme="dark"] a{color:#ffffff;}
body[data-theme="light"] a{color:#000000;}
a{text-decoration:none;}

.title{
 font-size:0.80rem;
 font-weight:700;
 margin:0;
}

.meta{
 display:flex;
 gap:12px;
 font-size:0.72rem;
 opacity:0.7;
}

.regionTag{
 text-transform:uppercase;
 font-weight:700;
}

footer{
 margin-top:20px;
 padding-top:12px;
 font-size:0.75rem;
 opacity:0.6;
 border-top:1px dashed rgba(255,255,255,0.15);
}
body[data-theme="light"] footer{
 border-top:1px dashed rgba(0,0,0,0.2);
}
</style>
</head>

<body data-theme="dark">
<div style="max-width:var(--max);margin:auto;padding:20px;">

<header class="header">
 <div class="cats">
  <button class="cat active" data-cat="ALL">ALL</button>
  <button class="cat" data-cat="US">US</button>
  <button class="cat" data-cat="UK">UK</button>
  <button class="cat" data-cat="EU">EU</button>
  <button class="cat" data-cat="AS">AS</button>
  <button class="cat" data-cat="AF">AF</button>
  <button class="cat" data-cat="AU">AU</button>
 </div>
 <button id="themeToggle" class="themeBtn"></button>
</header>

<div id="items" class="list">
 <div style="opacity:.6">Loading feeds...</div>
</div>

<footer>
    <div style="font-size: 11px; line-height: 1.4; max-width: 900px; margin: auto; opacity: 0.7; padding: 20px;">
        <strong>Legal Disclaimer & Protection:</strong><br>
        deef is an open-source, non-profit educational project developed for personal learning purposes only. 
        This application aggregates publicly available RSS feeds and displays them in a minimal, readable format.
        <br><br>

        <strong>Copyright & Content Protection:</strong><br>
        • All RSS feed content belongs to their respective publishers and copyright holders<br>
        • deef does not claim ownership over any news content or articles<br>
        • This project merely displays headlines and links to original sources<br>
        • No content is hosted, stored, or modified by deef<br>
        • All trademarks and registered trademarks are property of their respective owners
        <br><br>

        <strong>Content Removal Requests:</strong><br>
        If you are a content owner and wish to have your RSS feed removed from this aggregator, please contact me via GitHub. 
        I respect intellectual property rights and will promptly address legitimate removal requests.
        <br><br>

        <strong>Open Source & Educational Purpose:</strong><br>
        This is an open-source project built for educational purposes. 
        The code is available for learning and non-commercial use. 
        deef generates no revenue and operates as a personal learning project.
        <br><br>

        <a href="#" style="color:var(--text); text-decoration:underline;">View Source Code on GitHub</a><br>
        <a href="#" style="color:var(--text); text-decoration:underline;">Contact via GitHub Profile</a>
        <br><br>

        © 2025 deef — All rights reserved.
    </div>
</footer>

</div>

<script>
const FEEDS=[
 {url:"https://feeds.feedburner.com/SmallBusinessTrends",cat:"US"},
 {url:"https://www.entrepreneur.com/topic/startup.rss",cat:"US"},
 {url:"https://www.inc.com/rss/startup",cat:"US"},
 {url:"https://www.wired.com/feed/category/business/latest/rss",cat:"US"},
 {url:"https://www.theguardian.com/business/small-business/rss",cat:"UK"},
 {url:"https://www.smallbusiness.co.uk/feed/",cat:"UK"},
 {url:"https://www.eu-startups.com/feed/",cat:"EU"},
 {url:"https://www.euronews.com/rss?level=theme&name=Business",cat:"EU"},
 {url:"https://asia.nikkei.com/rss/feed?feedType=breakingNews",cat:"AS"},
 {url:"https://african.business/feed/",cat:"AF"},
 {url:"https://www.smartcompany.com.au/feed/",cat:"AU"},
];

const proxy="https://api.allorigins.win/raw?url=";
let allItems=[];

async function fetchRaw(url){
 try{
  const r=await fetch(proxy+encodeURIComponent(url));
  if(!r.ok) return null;
  return await r.text();
 }catch{return null;}
}

function parseRSS(text,url){
 const xml=new DOMParser().parseFromString(text,"text/xml");
 const items=[...xml.querySelectorAll("item"), ...xml.querySelectorAll("entry")];
 const source=(xml.querySelector("channel>title")||xml.querySelector("title"))?.textContent||url;
 return items.map(n=>{
  const title=n.querySelector("title")?.textContent||"";
  const link=n.querySelector("link")?.getAttribute("href") || n.querySelector("link")?.textContent || "";
  const pub=n.querySelector("pubDate")?.textContent || n.querySelector("updated")?.textContent || "";
  return {title,link,source,pubDate:new Date(pub||Date.now())};
 });
}

async function loadFeeds(){
 const out=(await Promise.all(FEEDS.map(async f=>{
  const raw=await fetchRaw(f.url);
  if(!raw) return [];
  return parseRSS(raw,f.url).map(i=>({...i,cat:f.cat}));
 }))).flat();

 allItems=out.sort((a,b)=>b.pubDate-a.pubDate);
 render();
}

function ago(d){
 let s=(Date.now()-d)/1000;
 if(s<60) return Math.floor(s)+"s";
 if(s<3600) return Math.floor(s/60)+"m";
 if(s<86400) return Math.floor(s/3600)+"h";
 return Math.floor(s/86400)+"d";
}

function render(){
 const c=document.querySelector(".cat.active").dataset.cat;
 let list=(c==="ALL"?allItems:allItems.filter(i=>i.cat===c)).slice(0,30);

 const box=document.getElementById("items");
 box.innerHTML="";
 list.forEach(i=>{
  box.innerHTML+=`
  <div class="item">
    <a href="${i.link}" target="_blank"><h3 class="title">${i.title}</h3></a>
    <div class="meta">
      <div>${i.source}</div>
      <div>${ago(i.pubDate)}</div>
      <div class="regionTag">${i.cat}</div>
    </div>
  </div>`;
 });
}

document.querySelectorAll(".cat").forEach(b=>{
 b.onclick=()=>{
  document.querySelectorAll(".cat").forEach(x=>x.classList.remove("active"));
  b.classList.add("active");
  render();
 };
});

document.getElementById("themeToggle").onclick=()=>{
 const t=document.body.dataset.theme;
 const next=t==="dark"?"light":"dark";
 document.body.dataset.theme=next;
 localStorage.setItem("theme",next);
};

document.body.dataset.theme=localStorage.getItem("theme")||"dark";

loadFeeds();
</script>

</body>
</html>
